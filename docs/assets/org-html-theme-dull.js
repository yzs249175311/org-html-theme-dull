var m=Object.defineProperty;var p=(o,e,t)=>e in o?m(o,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):o[e]=t;var u=(o,e,t)=>(p(o,typeof e!="symbol"?e+"":e,t),t);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))l(n);new MutationObserver(n=>{for(const c of n)if(c.type==="childList")for(const r of c.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&l(r)}).observe(document,{childList:!0,subtree:!0});function t(n){const c={};return n.integrity&&(c.integrity=n.integrity),n.referrerpolicy&&(c.referrerPolicy=n.referrerpolicy),n.crossorigin==="use-credentials"?c.credentials="include":n.crossorigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function l(n){if(n.ep)return;n.ep=!0;const c=t(n);fetch(n.href,c)}})();class f{constructor(e){u(this,"_obj");this._obj=e}start(){for(let[e,t]of Object.entries(this._obj))if(t.length!=0)for(let l of t)console.log("run:"+e+"----"+l.name),l()}}function h(){let o=document.querySelector("#content"),e=document.querySelector("#content>h1.title"),t=document.querySelector("#postamble"),l=document.querySelector("#table-of-contents"),n=document.createElement("nav"),c=document.createElement("main");n.classList.add("nav"),document.querySelectorAll(".outline-2").forEach(s=>{var d;let i=document.createElement("span"),a=(d=s.querySelector("h2").lastChild)==null?void 0:d.nodeValue;i.innerText=a,i.classList.add("nav-node"),n.appendChild(i),c.appendChild(s)});let r=document.createElement("header");r.appendChild(e),r.appendChild(n),document.body.insertBefore(r,o),o==null||o.appendChild(c),l==null||l.appendChild(t)}function v(){document.querySelectorAll("pre").forEach(e=>{let t=document.createElement("div");t.classList.add("top-block"),t.appendChild(document.createElement("span")),t.appendChild(document.createElement("span")),t.appendChild(document.createElement("span")),e.insertAdjacentElement("afterbegin",t)})}function y(){let o=document.querySelector("nav"),e=document.createElement("span"),t=document.documentElement,l=0,n=["light","dark"];e.classList.add("theme"),e.addEventListener("click",()=>{l=++l%n.length,e.setAttribute("theme",n[l]),t.setAttribute("theme",n[l])}),o.appendChild(e),window.matchMedia("(prefers-color-scheme: dark)").matches&&(l=1),e.setAttribute("theme",n[l]),t.setAttribute("theme",n[l])}const L=function(){function o(){let e=0,t=document.querySelectorAll("main>.outline-2"),l=document.querySelectorAll("#text-table-of-contents>ul>li"),n=document.querySelectorAll("nav>.nav-node");function c(){r(e),n.forEach((i,a)=>{i.addEventListener("click",()=>{s(),r(a)})})}function r(i){e=i,t[i].classList.add("active"),l[i].classList.add("active"),n[i].classList.add("active")}function s(){t[e].classList.remove("active"),l[e].classList.remove("active"),n[e].classList.remove("active")}c()}return{navEvent:o}}();function E(){document.querySelectorAll("pre").forEach(e=>{let t=document.createElement("span");t.classList.add("copy-block"),e.appendChild(t),t.addEventListener("click",l=>{navigator.clipboard.writeText(l.currentTarget.parentNode.innerText).then(()=>{t.classList.add("copyed"),setTimeout(()=>{t.classList.remove("copyed")},3e3)}).catch(n=>{console.log(n)})})})}function b(){let o=document.querySelector("header .title"),e=document.querySelector("main"),t=!1;e.addEventListener("scroll",l=>{let n=l.currentTarget.scrollTop;n>=100&&!t?(o.classList.add("hidden"),t=!0):n<100&&t&&(o.classList.remove("hidden"),t=!1)})}let g=new f({layouts:[h,v],widgets:[y],events:[L.navEvent,E,b]});g.start();

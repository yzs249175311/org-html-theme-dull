var x=Object.defineProperty;var E=(l,e,t)=>e in l?x(l,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):l[e]=t;var b=(l,e,t)=>(E(l,typeof e!="symbol"?e+"":e,t),t);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))o(n);new MutationObserver(n=>{for(const c of n)if(c.type==="childList")for(const s of c.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&o(s)}).observe(document,{childList:!0,subtree:!0});function t(n){const c={};return n.integrity&&(c.integrity=n.integrity),n.referrerpolicy&&(c.referrerPolicy=n.referrerpolicy),n.crossorigin==="use-credentials"?c.credentials="include":n.crossorigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function o(n){if(n.ep)return;n.ep=!0;const c=t(n);fetch(n.href,c)}})();class g{constructor(e){b(this,"_obj");this._obj=e}start(){for(let[e,t]of Object.entries(this._obj))if(t.length!=0)for(let o of t)console.log("run:"+e+"----"+o.name),o()}}function q(){let l=document.querySelector("#content"),e=document.querySelector("#content>h1.title"),t=document.querySelector("#postamble"),o=document.querySelector("#table-of-contents"),n=document.createElement("nav"),c=document.createElement("main");n.classList.add("nav"),document.querySelectorAll(".outline-2").forEach(h=>{var u;let r=document.createElement("span"),a=(u=h.querySelector("h2").lastChild)==null?void 0:u.nodeValue;r.innerText=a,r.classList.add("nav-node"),n.appendChild(r),c.appendChild(h)});let s=document.createElement("header");s.appendChild(e),s.appendChild(n),document.body.insertBefore(s,l),l==null||l.appendChild(c),o==null||o.appendChild(t)}function S(){document.querySelectorAll("pre").forEach(e=>{let t=document.createElement("div");t.classList.add("top-block"),t.appendChild(document.createElement("span")),t.appendChild(document.createElement("span")),t.appendChild(document.createElement("span")),e.insertAdjacentElement("afterbegin",t)})}function k(){let l=document.querySelector("nav"),e=document.createElement("span"),t=document.documentElement,o=0,n=["light","dark"];e.classList.add("switchTheme"),e.innerHTML=`
<svg class="sun-and-moon" aria-hidden="true" width="24" height="24" viewBox="0 0 24 24">
<mask class="moon" id="moon-mask">
<rect x="0" y="0" width="100%" height="100%" fill="white" />
<circle cx="24" cy="10" r="6" fill="black" />
</mask>
<circle class="sun" cx="12" cy="12" r="6" mask="url(#moon-mask)" fill="currentColor" />
<g class="sun-beams" stroke="currentColor">
<line x1="12" y1="1" x2="12" y2="3" />
<line x1="12" y1="21" x2="12" y2="23" />
<line x1="4.22" y1="4.22" x2="5.64" y2="5.64" />
<line x1="18.36" y1="18.36" x2="19.78" y2="19.78" />
<line x1="1" y1="12" x2="3" y2="12" />
<line x1="21" y1="12" x2="23" y2="12" />
<line x1="4.22" y1="19.78" x2="5.64" y2="18.36" />
<line x1="18.36" y1="5.64" x2="19.78" y2="4.22" />
</g>
</svg>`,e.addEventListener("click",()=>{o=++o%n.length,e.setAttribute("theme",n[o]),t.setAttribute("theme",n[o])}),l.appendChild(e),window.matchMedia("(prefers-color-scheme: dark)").matches&&(o=1),e.setAttribute("theme",n[o]),t.setAttribute("theme",n[o])}const A=function(){function l(){let e=0,t=document.querySelectorAll("main>.outline-2"),o=document.querySelectorAll("#text-table-of-contents>ul>li"),n=document.querySelectorAll("nav>.nav-node");function c(){s(e),n.forEach((r,a)=>{r.addEventListener("click",()=>{h(),s(a)})})}function s(r){var a,u,v;e=r,(a=t[r])==null||a.classList.add("active"),(u=o[r])==null||u.classList.add("active"),(v=n[r])==null||v.classList.add("active")}function h(){var r,a,u;(r=t[e])==null||r.classList.remove("active"),(a=o[e])==null||a.classList.remove("active"),(u=n[e])==null||u.classList.remove("active")}c()}return{navEvent:l}}();function C(){document.querySelectorAll("pre").forEach(e=>{let t=document.createElement("span");t.classList.add("copy-block"),e.appendChild(t),t.addEventListener("click",o=>{navigator.clipboard.writeText(o.currentTarget.parentNode.innerText).then(()=>{t.classList.add("copyed"),setTimeout(()=>{t.classList.remove("copyed")},3e3)}).catch(n=>{console.log(n)})})})}function T(){let l=document.querySelector("header .title"),e=document.querySelector("main"),t=!1;e.addEventListener("scroll",o=>{let n=o.currentTarget.scrollTop;n>=200&&!t?(setTimeout(()=>{l.classList.add("hidden")},400),t=!0):n<200&&t&&(setTimeout(()=>{l.classList.remove("hidden")},400),t=!1)})}let d=null,p=null,y=null,f=null;function w(l){if(y){let e=y.querySelector(`a[href="#${l}"]`);f&&f.classList.remove("current"),f=e,f.classList.add("current")}}function I(l){l.forEach(e=>{let t=e.boundingClientRect,o=e.rootBounds,n=e.target.getAttribute("id");t.top<=o.top&&w(n)})}function B(l){l.forEach(e=>{e.attributeName=="class"&&(j(),N())})}let L=null,m=null,i=null;function M(){y=document.querySelector("#text-table-of-contents"),d=document.querySelector("main"),p=d.querySelector(".outline-2[class~=active]").querySelectorAll("h2,h3,h4,h5,h6"),L={root:d,rootMargin:"-20px 0px 0px 0px",threshold:[0,1]},m=new IntersectionObserver(I,L),p.forEach(e=>{m.observe(e)})}function N(){y=document.querySelector("#text-table-of-contents"),d=document.querySelector("main"),p=d.querySelector(".outline-2[class~=active]").querySelectorAll("h2,h3,h4,h5,h6"),m&&m.disconnect(),p.forEach(e=>{m.observe(e)})}function O(){i&&i.disconnect(),i=new MutationObserver(B),document.querySelectorAll("main .outline-2[class~=active]").forEach(l=>{i==null||i.observe(l,{attributes:!0})})}function j(){i&&i.disconnect(),document.querySelectorAll("main .outline-2[class~=active]").forEach(l=>{i==null||i.observe(l,{attributes:!0})})}function R(){M(),O()}let _=new g({layouts:[q,S],widgets:[k],events:[A.navEvent,C,T,R]});_.start();
